# EvolveSDK - Complete System Architecture

## 1. SYSTEM ARCHITECTURE DIAGRAM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           EVOLVE RFID SDK SYSTEM                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   PHYSICAL LAYER                â”‚
                         â”‚                                 â”‚
                         â”‚  RFID Readers                   â”‚
                         â”‚  â”œâ”€â”€ UF3-S (Serial/TCP/MQTT)   â”‚
                         â”‚  â”œâ”€â”€ UF3-H (Serial)            â”‚
                         â”‚  â””â”€â”€ Future Models             â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                             â”‚                              â”‚
        â–¼                             â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Serial Port      â”‚    â”‚  TCP Network      â”‚         â”‚  Internet/MQTT      â”‚
â”‚  (RS-232/RS-485)  â”‚    â”‚  (Ethernet)       â”‚         â”‚  Cloud Broker       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                       â”‚                             â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         TRANSPORT ABSTRACTION LAYER                        â”‚
        â”‚                                                            â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ SerialTransport.ts âœ…                               â”‚  â”‚
        â”‚  â”‚ â”œâ”€ Port connection management                       â”‚  â”‚
        â”‚  â”‚ â”œâ”€ Baud rate/data config                           â”‚  â”‚
        â”‚  â”‚ â”œâ”€ Data receive buffering                          â”‚  â”‚
        â”‚  â”‚ â””â”€ Event: data, error, close                       â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                                                            â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ TCPTransport.ts âœ…                                 â”‚  â”‚
        â”‚  â”‚ â”œâ”€ Socket connection                               â”‚  â”‚
        â”‚  â”‚ â”œâ”€ IP:Port configuration                           â”‚  â”‚
        â”‚  â”‚ â”œâ”€ Data buffering                                  â”‚  â”‚
        â”‚  â”‚ â””â”€ Event: data, error, close                       â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                                                            â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ MQTTTransport.ts (NEW) ğŸ†•                           â”‚  â”‚
        â”‚  â”‚ â”œâ”€ MQTT broker connection (TLS/TCP)                 â”‚  â”‚
        â”‚  â”‚ â”œâ”€ Topic subscription & publishing                  â”‚  â”‚
        â”‚  â”‚ â”œâ”€ QoS levels (0,1,2) negotiation                  â”‚  â”‚
        â”‚  â”‚ â”œâ”€ Keep-alive & auto-reconnection                  â”‚  â”‚
        â”‚  â”‚ â”œâ”€ Message buffering & ordering                    â”‚  â”‚
        â”‚  â”‚ â””â”€ Event: data, error, close, connect              â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                                                    â”‚
        â”‚  <<ITransport Interface>>                         â”‚
        â”‚  â”œâ”€ connect()                                      â”‚
        â”‚  â”œâ”€ disconnect()                                   â”‚
        â”‚  â”œâ”€ send(data)                                     â”‚
        â”‚  â”œâ”€ onData(callback)                              â”‚
        â”‚  â””â”€ isConnected()                                 â”‚
        â”‚                                                    â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ MQTTTransport.ts (NEW)                       â”‚  â”‚
        â”‚  â”‚ â”œâ”€ MQTT broker connection                    â”‚  â”‚
        â”‚  â”‚ â”œâ”€ Topic subscription                        â”‚  â”‚
        â”‚  â”‚ â”œâ”€ QoS levels (0,1,2)                       â”‚  â”‚
        â”‚  â”‚ â”œâ”€ Last Will & Testament                     â”‚  â”‚
        â”‚  â”‚ â”œâ”€ Keep-alive ping                           â”‚  â”‚
        â”‚  â”‚ â””â”€ Auto-reconnection logic                   â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    PROTOCOL LAYER                     â”‚
        â”‚                                       â”‚
        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚ â”‚ UF3SReader.ts                  â”‚  â”‚
        â”‚ â”‚                                â”‚  â”‚
        â”‚ â”‚ extends BaseRFIDReader         â”‚  â”‚
        â”‚ â”‚                                â”‚  â”‚
        â”‚ â”‚ â”œâ”€ Command Parsing             â”‚  â”‚
        â”‚ â”‚ â”‚  â”œâ”€ 0x01: Start Scan        â”‚  â”‚
        â”‚ â”‚ â”‚  â”œâ”€ 0x02: Stop Scan         â”‚  â”‚
        â”‚ â”‚ â”‚  â”œâ”€ 0x03: Get Status        â”‚  â”‚
        â”‚ â”‚ â”‚  â””â”€ 0x04: Configure         â”‚  â”‚
        â”‚ â”‚ â”‚                              â”‚  â”‚
        â”‚ â”‚ â”œâ”€ Data Parsing               â”‚  â”‚
        â”‚ â”‚ â”‚  â”œâ”€ EPC Extraction         â”‚  â”‚
        â”‚ â”‚ â”‚  â”œâ”€ RSSI Conversion        â”‚  â”‚
        â”‚ â”‚ â”‚  â”œâ”€ Checksum Validation    â”‚  â”‚
        â”‚ â”‚ â”‚  â””â”€ Frame Assembly         â”‚  â”‚
        â”‚ â”‚ â”‚                              â”‚  â”‚
        â”‚ â”‚ â””â”€ Event Emission             â”‚  â”‚
        â”‚ â”‚    â”œâ”€ TAG_DETECTED           â”‚  â”‚
        â”‚ â”‚    â””â”€ STATUS_CHANGE          â”‚  â”‚
        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                                       â”‚
        â”‚ <<BaseRFIDReader Abstract>>          â”‚
        â”‚ â”œâ”€ connect()                         â”‚
        â”‚ â”œâ”€ disconnect()                      â”‚
        â”‚ â”œâ”€ startScan()                       â”‚
        â”‚ â”œâ”€ stopScan()                        â”‚
        â”‚ â””â”€ getEventBus()                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   CORE EVENT SYSTEM                   â”‚
        â”‚                                       â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ EventBus.ts âœ…                 â”‚  â”‚
        â”‚  â”‚                                â”‚  â”‚
        â”‚  â”‚ Core Events:                   â”‚  â”‚
        â”‚  â”‚ â”œâ”€ CONNECTING                 â”‚  â”‚
        â”‚  â”‚ â”œâ”€ CONNECTED                  â”‚  â”‚
        â”‚  â”‚ â”œâ”€ DISCONNECTED               â”‚  â”‚
        â”‚  â”‚ â”œâ”€ TAG_DETECTED               â”‚  â”‚
        â”‚  â”‚ â”œâ”€ TAG_LOST                   â”‚  â”‚
        â”‚  â”‚ â”œâ”€ RAW_DATA                   â”‚  â”‚
        â”‚  â”‚ â”œâ”€ DIAGNOSTIC                 â”‚  â”‚
        â”‚  â”‚ â””â”€ ERROR                      â”‚  â”‚
        â”‚  â”‚                                â”‚  â”‚
        â”‚  â”‚ Methods:                       â”‚  â”‚
        â”‚  â”‚ â”œâ”€ on(event, callback)        â”‚  â”‚
        â”‚  â”‚ â”œâ”€ off(event, callback)       â”‚  â”‚
        â”‚  â”‚ â”œâ”€ once(event, callback)      â”‚  â”‚
        â”‚  â”‚ â”œâ”€ emit(event, data)          â”‚  â”‚
        â”‚  â”‚ â”œâ”€ emitError(error)           â”‚  â”‚
        â”‚  â”‚ â”œâ”€ waitFor(event, timeout)    â”‚  â”‚
        â”‚  â”‚ â”œâ”€ onError(handler)           â”‚  â”‚
        â”‚  â”‚ â””â”€ createScope()              â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    READER MANAGER (TODO)              â”‚
        â”‚                                       â”‚
        â”‚ â”œâ”€ manage multiple readers            â”‚
        â”‚ â”œâ”€ connection pooling                 â”‚
        â”‚ â”œâ”€ event aggregation                  â”‚
        â”‚ â”œâ”€ auto-discovery                     â”‚
        â”‚ â””â”€ graceful shutdown                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    ELECTRON MAIN PROCESS              â”‚
        â”‚                                       â”‚
        â”‚ â”œâ”€ electron-main.cjs                 â”‚
        â”‚ â”‚  â”œâ”€ SDK initialization             â”‚
        â”‚ â”‚  â”œâ”€ IPC handler setup             â”‚
        â”‚ â”‚  â”œâ”€ Log directory creation        â”‚
        â”‚ â”‚  â”œâ”€ Menu creation                 â”‚
        â”‚ â”‚  â””â”€ File export handling          â”‚
        â”‚ â”‚                                    â”‚
        â”‚ â””â”€ ipc/sdkbridge.cjs                â”‚
        â”‚    â”œâ”€ connectReader()               â”‚
        â”‚    â”œâ”€ disconnectReader()            â”‚
        â”‚    â”œâ”€ onTagRead()                   â”‚
        â”‚    â”œâ”€ saveLogs()                    â”‚
        â”‚    â””â”€ saveDataCSV()                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                IPC BRIDGE (Preload.js)
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚       REACT FRONTEND (GUI)                    â”‚
        â”‚                                               â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
        â”‚  â”‚ Context Providers                        â”‚ â”‚
        â”‚  â”‚ â”œâ”€ LogsContext (log management)          â”‚ â”‚
        â”‚  â”‚ â”œâ”€ TagContext (tag storage)              â”‚ â”‚
        â”‚  â”‚ â””â”€ ReaderContext (reader state)          â”‚ â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
        â”‚                                               â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
        â”‚  â”‚ MainLayout                               â”‚ â”‚
        â”‚  â”‚ â”œâ”€ Header                               â”‚ â”‚
        â”‚  â”‚ â”œâ”€ Sidebar                              â”‚ â”‚
        â”‚  â”‚ â”‚  â”œâ”€ ReadControl (Start/Stop)          â”‚ â”‚
        â”‚  â”‚ â”‚  â”œâ”€ HardwareConnection                â”‚ â”‚
        â”‚  â”‚ â”‚  â””â”€ FilterData                        â”‚ â”‚
        â”‚  â”‚ â”œâ”€ Dashboard                            â”‚ â”‚
        â”‚  â”‚ â”‚  â”œâ”€ ReaderStatus                      â”‚ â”‚
        â”‚  â”‚ â”‚  â”œâ”€ TagList                           â”‚ â”‚
        â”‚  â”‚ â”‚  â””â”€ RawDataViewer                     â”‚ â”‚
        â”‚  â”‚ â””â”€ Logs Panel                           â”‚ â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
        â”‚                                               â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
        â”‚  â”‚ Services                                 â”‚ â”‚
        â”‚  â”‚ â”œâ”€ sdkService.ts (SDK bridge)            â”‚ â”‚
        â”‚  â”‚ â””â”€ logService.ts (logging)               â”‚ â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. DATA FLOW ARCHITECTURE

### **Scenario 1: User Starts Scanning**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: User Interaction                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  User clicks "â–¶ Start Read" button â†’ ReadControl.tsx
                    â†“
         setScanning(true)  [Local state]
                    â†“
    onClickStartRead() handler triggers
                    â†“
    sdkService.startScan() [IPC Call]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: Cross-Process Communication (IPC)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  React Process (Renderer)
         â†“
  window.electronAPI.startScan()  [Preload API]
         â†“
  IPC Message: "scanner:start"
         â†“
  Electron Main Process receives IPC

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: Backend Processing                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  electron-main.cjs IPC handler
         â†“
  // Find reader from ReaderManager
  const reader = readerManager.getReader(readerId);
         â†“
  reader.startScan()  [Command execution]
         â†“
  UF3SReader.startScan()
         â†“
  // Create command packet
  const command = [0xAA, 0x01, checksum, 0xFF];
         â†“
  transport.send(command)
         â†“
  â”Œâ”€ SerialTransport â†’ serialport.write()
  â”‚
  â””â”€ TCPTransport â†’ socket.write()
         â†“
  Physical Reader receives command
         â†“
  Reader starts scanning for tags

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: Data Reception & Parsing                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Physical Reader detects tag
         â†“
  Sends raw data: [AA][EPC][RSSI][CRC][FF]
         â†“
  Transport receives raw buffer
         â†“
  transport.onData(buffer)  [Callback triggered]
         â†“
  UF3SReader.parse(buffer)
         â†“
  // Extract EPC and RSSI
  const epc = extractEPC(buffer);
  const rssi = extractRSSI(buffer);
         â†“
  EventBus.emit(SDKEvent.TAG_DETECTED, {
    tagId: epc,
    rssi: rssi,
    timestamp: Date.now(),
    reader: this.info
  })

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 5: Event Propagation                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  EventBus emits TAG_DETECTED
         â†“
  ReaderManager listener triggered
         â†“
  ReaderManager.onTagDetected(tagData)
         â†“
  Emit IPC: "reader:tag-detected" to GUI
         â†“
  React receives TAG_DETECTED event

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 6: GUI Update                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  window.electronAPI.onTagRead(callback)
         â†“
  callback(tagData)
         â†“
  TagContext.addTag(tagData)
         â†“
  tags state updated
         â†“
  TagList component re-renders
         â†“
  New tag displayed in list
```

---

### **Scenario 2: Reader Connection Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: User Input                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  HardwareConnection Component
  â”œâ”€ Input Type: Serial or TCP
  â”œâ”€ Input Address: COM3 or 192.168.1.100
  â””â”€ Click "Connect" button

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: IPC to Main Process                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  window.electronAPI.connectReader({
    type: 'serial',
    port: 'COM3',
    baudRate: 115200
  })

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: SDK Logic (Main Process)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  electron-main.cjs handler
         â†“
  // Create appropriate transport
  let transport;
  if (type === 'serial') {
    transport = new SerialTransport(port, baudRate);
  } else if (type === 'tcp') {
    transport = new TCPTransport(ip, port);
  }
         â†“
  // Create reader instance
  const reader = new UF3SReader(readerInfo, transport);
         â†“
  // Store in ReaderManager
  readerManager.addReader(reader);
         â†“
  // Attempt connection
  await reader.connect()

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: Transport Connection                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  SerialTransport.connect()
         â†“
  serialport.open((err) => {
    if (err) return reject(err);
    this.connected = true;
  })
         â†“
  OR
         â†“
  TCPTransport.connect()
         â†“
  socket.connect(port, host)
         â†“
  socket.on('connect', () => {
    this.connected = true;
  })

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 5: Reader Status Events                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  reader.connect() triggers
         â†“
  EventBus.emit(SDKEvent.CONNECTING, readerInfo)
         â†“
  [connection attempt...]
         â†“
  EventBus.emit(SDKEvent.CONNECTED, readerInfo)
         â†“
  ReaderManager listener catches event
         â†“
  ReaderManager emits: "reader:connected"
         â†“
  IPC sends to GUI

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 6: GUI Update                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ReaderContext receives "reader:connected"
         â†“
  setConnectedReaders(prev => [...prev, reader])
         â†“
  ReaderList component re-renders
         â†“
  Shows "âœ“ Connected" status
```

---

### **Scenario 3: Error Handling Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ERROR OCCURS IN SDK                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Possible sources:
  â”œâ”€ SerialTransport: "Error: Port already in use"
  â”œâ”€ TCPTransport: "ECONNREFUSED"
  â”œâ”€ UF3SReader: "Invalid checksum"
  â””â”€ EventBus: "Unhandled error"

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ERROR PROPAGATION                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  try-catch block OR error callback
         â†“
  EventBus.emitError(sdkError)
         â†“
  SDKError object:
  {
    code: 'CONNECTION_FAILED',
    message: 'Failed to open serial port',
    source: 'SerialTransport',
    timestamp: Date.now()
  }

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ERROR HANDLING                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  EventBus.on(SDKEvent.ERROR, (error) => {
    // Log error
    logger.error(error);
    
    // Store in error state
    errorState.add(error);
    
    // Emit IPC to GUI
    mainWindow.webContents.send('reader:error', error);
  })

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GUI ERROR DISPLAY                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  window.electronAPI.onReaderError((error) => {
    LogsContext.addLog(error.message, 'ERROR');
  })
         â†“
  MainLayout log panel shows error
         â†“
  User sees error message with timestamp
```

---

## 3. ARCHITECTURAL PATTERNS & LOGIC

### **Pattern 1: Layered Architecture**

```
Layer 1: PRESENTATION
â”œâ”€ React Components (UI)
â”œâ”€ Context Providers (State)
â””â”€ Services (API Layer)
        â†“ IPC Bridge
Layer 2: APPLICATION
â”œâ”€ Electron Main Process
â”œâ”€ SDK Bridge (IPC Handlers)
â””â”€ Reader Management
        â†“ Direct
Layer 3: SDK/DOMAIN
â”œâ”€ Event Bus (Core)
â”œâ”€ Readers (Protocol)
â”œâ”€ Transports (Communication)
â””â”€ Diagnostics (Utilities)
        â†“ Hardware Interface
Layer 4: HARDWARE
â”œâ”€ Serial Ports
â”œâ”€ TCP/Network
â””â”€ RFID Readers
```

**Logic:**
- Each layer is independent and communicates through well-defined interfaces
- IPC boundary isolates GUI from hardware
- SDK is framework-agnostic (can be used outside Electron)
- Clean separation of concerns

---

### **Pattern 2: Event-Driven Architecture**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        EVENT PUBLISHER (Readers)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    EventBus.emit()
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                  â†“                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ReaderManager â”‚  â”‚ Logger        â”‚  â”‚ Cache System  â”‚
â”‚ (Subscriber)  â”‚  â”‚ (Subscriber)  â”‚  â”‚ (Subscriber)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                  â”‚                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                      IPC Bridge
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ React GUI     â”‚
                    â”‚ (Subscriber)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Benefits:**
- Loose coupling: Readers don't know about consumers
- High scalability: Add new subscribers without modifying readers
- Asynchronous: Non-blocking event flow
- Error isolation: One subscriber's error doesn't crash system

---

### **Pattern 3: Transport Abstraction**

```
Reader (UF3SReader)
        â”‚
        â”œâ”€ Only knows ITransport interface
        â”‚
        â”œâ”€ Calls: transport.send(data)
        â”‚            â†“
        â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     â”‚   Which Transport?   â”‚
        â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚          â”‚         â”‚
        â”œâ”€â–º SerialTransport  â”‚
        â”‚          (choice)   â”‚
        â”‚                     â”‚
        â””â”€â–º TCPTransport â—„â”€â”€â”€â”€â”˜
                (choice)
```

**Logic:**
- Reader doesn't care HOW data is sent
- Reader only cares about ITransport interface
- Runtime decision: Serial or TCP
- Easy to add new transports (MQTTTransport, BluetoothTransport, etc.)

---

### **Pattern 4: Command-Query Pattern (Potential)**

```
Commands (Change State):
â”œâ”€ startScan()     â†’ emits CONNECTING, CONNECTED, TAG_DETECTED
â”œâ”€ stopScan()      â†’ stops receiving tags
â”œâ”€ configure()     â†’ updates reader settings
â””â”€ disconnect()    â†’ emits DISCONNECTED

Queries (Read State):
â”œâ”€ getStatus()     â†’ returns current reader state
â”œâ”€ getReaderInfo() â†’ returns reader metadata
â””â”€ getConnected()  â†’ boolean check
```

---

## 4. CURRENT IMPLEMENTATION STATUS

### âœ… **Complete Components (7 files)**

| Component | Status | Logic | Tests |
|-----------|--------|-------|-------|
| **EventBus.ts** | âœ… Complete | Event emission, subscription, error handling | 12/12 passing |
| **SerialTransport.ts** | âœ… Complete | Port connection, baud config, data buffering | serial tests |
| **TCPTransport.ts** | âœ… Complete | Socket connection, network handling | ready |
| **BaseRFIDReader.ts** | âœ… Complete | Abstract interface, state management | N/A |
| **UF3SReader.ts** | âœ… Protocol logic | Command parsing, data extraction | ready |
| **PortDiscovery.ts** | âœ… Complete | Port listing, network scanning | ready |
| **ITransport.ts** | âœ… Interface | Standard transport contract | N/A |

### ğŸ”„ **Partial Components (3 files)**

| Component | Status | Logic | TODO |
|-----------|--------|-------|------|
| **electron-main.cjs** | Initialized | Basic SDK init, menu creation | Full IPC integration |
| **sdkService.ts** | Shell | API stub | Real SDK calls |
| **LogsContext.tsx** | Basic | Simple state | SDK event binding |

### ğŸ“‹ **Missing Components (Critical)**

| Component | Priority | Purpose |
|-----------|----------|---------|
| **ReaderManager.ts** | ğŸ”´ CRITICAL | Multi-reader management |
| **ReaderContext.tsx** | ğŸ”´ CRITICAL | Reader state in GUI |
| **TagContext.tsx** | ğŸ”´ CRITICAL | Tag caching in GUI |
| **TagParser.ts** | ğŸŸ  Important | Tag data parsing |
| **HealthMonitor.ts** | ğŸŸ¡ Nice-to-have | Reader diagnostics |

---

## 5. MESSAGE FLOW ARCHITECTURE

### **IPC Message Types**

```
GUI â†’ Main Process (Tagged as "command:*"):
â”œâ”€ "command:connect-reader" â†’ connect(config)
â”œâ”€ "command:disconnect-reader" â†’ disconnect()
â”œâ”€ "command:start-scan" â†’ startScan()
â”œâ”€ "command:stop-scan" â†’ stopScan()
â”œâ”€ "command:save-logs" â†’ saveLogs(content)
â””â”€ "command:save-data-csv" â†’ saveDataCSV(data)

Main Process â†’ GUI (Tagged as "event:*"):
â”œâ”€ "event:reader-connected" â†’ { readerId, status }
â”œâ”€ "event:reader-disconnected" â†’ { readerId }
â”œâ”€ "event:tag-detected" â†’ { epc, rssi, timestamp }
â”œâ”€ "event:reader-error" â†’ { code, message }
â”œâ”€ "event:scan-started" â†’ { readerId }
â””â”€ "event:scan-stopped" â†’ { readerId }
```

---

## 6. STATE MANAGEMENT ARCHITECTURE

### **State Locations**

```
GUI (React):
â”œâ”€ LogsContext
â”‚  â””â”€ logs: LogEntry[]
â”‚
â”œâ”€ ReaderContext (TODO)
â”‚  â””â”€ readers: Map<readerId, ReaderStatus>
â”‚
â”œâ”€ TagContext (TODO)
â”‚  â””â”€ tags: Map<epc, TagData>
â”‚
â””â”€ Local Component State
   â””â”€ scanning: boolean

Backend (Node.js/Electron):
â”œâ”€ ReaderManager (TODO)
â”‚  â””â”€ readers: Map<readerId, Reader>
â”‚
â”œâ”€ Memory Cache
â”‚  â””â”€ recentTags: [TagData]
â”‚
â””â”€ EventBus
   â””â”€ listeners: Map<event, Callback[]>
```

---

## 7. EXAMPLE: Complete Tag Detection Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: Physical Tag Approach Reader                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Time: [000ms]
Event: Physical tag enters reader range

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: Reader Transmits Data                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Time: [005ms]
Data: [AA 00 26 E2 00 00 17 22 11 01 44 18 90 D5 FF]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: Transport Receives Raw Bytes                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Time: [10ms]
Location: SerialTransport.onData() callback
Action: Buffer concatenated to internal buffer

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: Frame Parsing in UF3SReader                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Time: [15ms]
Location: UF3SReader.parse()
Process:
  1. Check frame boundaries [AA...FF]
  2. Extract EPC: E2000017221101441890
  3. Extract RSSI: -45 dBm
  4. Validate checksum
  5. Create TagData object

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 5: EventBus Emission                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Time: [20ms]
Location: UF3SReader â†’ EventBus.emit()
Event: SDKEvent.TAG_DETECTED
Payload: {
  tagId: "E2000017221101441890",
  epc: "E2000017221101441890",
  rssi: -45,
  timestamp: 1707000000000,
  reader: { id, model, address }
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 6: ReaderManager Aggregation                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Time: [25ms]
Location: electron-main.cjs ReaderManager listener
Action:
  1. Deduplicate (if tag recently seen)
  2. Update tag cache
  3. Count occurrences
  4. Prepare for GUI

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 7: IPC Transmission                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Time: [30ms]
Location: electron-main.cjs â†’ mainWindow.webContents.send()
Message: "event:tag-detected"
Data: { epc, rssi, timestamp, count }

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 8: GUI Receives Event                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Time: [35ms]
Location: preload.js â†’ window.electronAPI.onTagRead()
Callback: triggered with tag data

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 9: React State Update                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Time: [40ms]
Location: TagContext.addTag()
Action: Update tags Map state

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 10: Component Re-render                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Time: [45ms]
Location: TagList component
Action: React detects state change â†’ re-render
Result: New tag appears in table

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 11: User Sees Tag                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Time: [50ms]
Location: Browser display
Display: Tag row with EPC, RSSI, timestamp, count
```

**Total Latency: ~50ms from physical tag to visual display**

---

## 8. SECURITY & ERROR HANDLING ARCHITECTURE

### **Error Boundaries**

```
Physical Layer Errors
  â”œâ”€ Port not found
  â”œâ”€ Connection timeout
  â””â”€ Signal loss
           â†“
Transport Error Handling
  â”œâ”€ Retry logic (exponential backoff)
  â”œâ”€ Timeout detection
  â””â”€ Graceful reconnection
           â†“
Reader Error Handling
  â”œâ”€ Frame validation
  â”œâ”€ Checksum verification
  â””â”€ Invalid data rejection
           â†“
EventBus Error Handling
  â”œâ”€ Unhandled event warning
  â”œâ”€ Error listener callbacks
  â””â”€ Error logging
           â†“
GUI Error Display
  â”œâ”€ Toast notifications
  â”œâ”€ Logs panel
  â””â”€ Error state management
```

---

## 9. SCALABILITY CONSIDERATIONS

### **Current Bottlenecks & Solutions**

| Bottleneck | Impact | Solution |
|-----------|--------|----------|
| Single reader | Can't manage multiple readers | â†’ ReaderManager |
| Memory unbounded logs | Memory leak potential | â†’ Circular buffer (1000 logs) |
| No tag deduplication | Duplicate events | â†’ Tag cache + timestamp check |
| Synchronous parsing | CPU blocking | â†’ Future: Worker threads |
| Single IPC handler | Single reader connection | â†’ Queue-based IPC |

---

## 10. TRANSPORT COMPARISON: Serial vs TCP vs MQTT

### **Serial Transport**
- **Pros**: Local connection, no network overhead, simplest setup
- **Cons**: Limited to 1-2 readers per USB hub, cable length limits (50ft max)
- **Use Case**: Single reader in office/lab

### **TCP Transport**
- **Pros**: Network distance, multiple readers per LAN, faster than serial
- **Cons**: Requires local network, LAN bandwidth limited
- **Use Case**: Multiple readers in same facility/building

### **MQTT Transport** ğŸ†•
- **Pros**: Cloud connectivity, remote monitoring, firewall traversal, pub/sub pattern
- **Cons**: Requires internet, broker setup, slightly higher latency (100-500ms)
- **Use Case**: Distributed locations, cloud backup, remote management

**Latency Comparison:**
```
Serial: 10-50ms      (Direct, no network overhead)
TCP:    20-100ms     (LAN network latency)
MQTT:   100-500ms    (Internet + broker processing)
```

---

This architecture document covers the complete system, current implementation status, and the logic behind all major flows including MQTT support.
